(self.webpackChunklife=self.webpackChunklife||[]).push([[179],{MXM6:function(e,t,r){"use strict";var n=r("q1tI"),a=r("i8i4"),i=r("55Ip"),l=r("Ty5D"),s=r("17x9"),d=r.n(s),o=r("5NJ/"),c=r("aFzQ"),u=[220,880,1980,3520],m=[750,400,200,100,50],f=Object.freeze({Small:0,Medium:1,Large:2,Huge:3}),h=Object.freeze({Slowest:0,Slow:1,Normal:2,Fast:3,Fastest:4}),p=Object.freeze({None:0,GosperGliderGunM:1,SimkinGliderGunL:2,PulsarM:3,EdenGardenL:4,GliderS:5,LwssS:6,HwssS:7,PentadecathlonS:8,DieHardL:9}),g=Object.freeze({Space:"Space",KeyR:"KeyR",KeyC:"KeyC",KeyD:"KeyD"}),b=[69,111,113,145,146,153,154,167,168,188,192,197,198,211,212,221,222,231,237,241,242,265,266,275,279,281,282,287,289,319,325,333,364,368,409,410],y=[67,68,74,75,133,134,140,141,269,270,335,336,683,684,686,687,748,754,814,821,824,825,880,881,882,886,890,891,951,1209,1210,1275,1342,1343,1344,1410],v=[147,148,149,153,154,155,233,238,240,245,277,282,284,289,321,326,328,333,367,368,369,373,374,375,455,456,457,461,462,463,497,502,504,509,541,546,548,553,585,590,592,597,675,676,677,681,682,683],S=[481,483,487,491,494,496,498,500,502,504,506,508,510,546,548,552,556,561,565,567,569,571,573,575,577,616,620,624,629,678,680,683,687,691,693,697,699,701,703,705,707,709,747,751,755,761,764,766,768,770,772,774,809,812,816,820,824,826,828,877,880,884,888,891,896,898,900,902,904,906,959],G=[1,24,44,45,46,173,174,175,195,218],C=[23,26,49,67,71,90,91,92,93],z=[2,3,22,27,50,66,72,89,90,91,92,93,94],E=[74,79,94,95,97,98,99,100,102,103,118,123],k=[692,752,753,819,823,824,825];function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),O(this,"gridSize",void 0),O(this,"gridSpeed",void 0),O(this,"gridItems",void 0),O(this,"gridPattern",void 0),O(this,"gridRowSize",void 0),O(this,"firstGenerationGrid",void 0),(0,c.rC)(this,{gridSize:c.LO,gridSpeed:c.LO,gridItems:c.LO,gridPattern:c.LO,clearGrid:c.aD,resetGrid:c.aD,updateGrid:c.aD,updateGridItem:c.aD,setGridSize:c.aD,setGridSpeed:c.aD,setPatternGrid:c.aD,isGridEmpty:c.Fl,totalGridSize:c.Fl,aliveCellsIndexes:c.Fl}),this.gridSize=f.Small,this.gridSpeed=h.Normal,this.gridPattern=p.None,this.gridItems=Array(this.totalGridSize).fill(!1),this.gridRowSize=this.totalGridSize/10,this.firstGenerationGrid=Array(this.totalGridSize).fill(!1),this.clearGrid=this.clearGrid.bind(this),this.resetGrid=this.resetGrid.bind(this),this.updateGrid=this.updateGrid.bind(this),this.setGridSpeed=this.setGridSpeed.bind(this),this.setGridSize=this.setGridSize.bind(this),this.setFirstGenerationGrid=this.setFirstGenerationGrid.bind(this),this.setPatternGrid=this.setPatternGrid.bind(this)}var t,r;return t=e,(r=[{key:"clearGrid",value:function(){var e=this;(0,c.z)((function(){e.gridItems=(0,c.ZN)(Array(e.totalGridSize).fill(!1)),e.gridPattern!==p.None&&(e.gridPattern=p.None)})),this.setFirstGenerationGrid()}},{key:"resetGrid",value:function(){var e=this;(0,c.z)((function(){e.gridItems=e.firstGenerationGrid.slice()}))}},{key:"updateGrid",value:function(){var e=this,t=(0,c.ZN)(this.gridItems);(0,c.z)((function(){e.gridItems=t.map((function(r,n){for(var a=[],i=-1;i<2;i+=1){var l=n-e.gridRowSize+i;l<0&&(l+=e.totalGridSize),t[l]&&a.push(!0),0===i||0<(s=n+i)&&s<e.totalGridSize&&t[s]&&a.push(!0);var s=n+e.gridRowSize+i;s>e.totalGridSize&&(s-=e.totalGridSize),t[s]&&a.push(!0)}var d=3===a.length,o=d||2===a.length;return r?o:d}))}))}},{key:"updateGridItem",value:function(e){var t=this;(0,c.z)((function(){t.gridItems=(0,c.ZN)(t.gridItems.map((function(t,r){return e===r?!t:t})))}))}},{key:"setFirstGenerationGrid",value:function(){this.firstGenerationGrid=this.gridItems.slice()}},{key:"setGridSize",value:function(e){var t=this,r=u[e],n=r/(10+10*e);(0,c.z)((function(){var a=[];t.aliveCellsIndexes.forEach((function(e){var r,i=e;e<t.totalGridSize&&e>=t.gridRowSize&&(r=Math.floor(e/t.gridRowSize),i=Math.floor(e-t.gridRowSize*r)+n*r),a.push(i)})),t.gridItems=(0,c.ZN)(Array(r).fill(!1).map((function(e,t){return a.includes(t)}))),t.setFirstGenerationGrid(),t.gridSize=e})),this.gridRowSize=n}},{key:"setGridSpeed",value:function(e){var t=this;(0,c.z)((function(){t.gridSpeed=e}))}},{key:"setPatternGrid",value:function(e,t){var r=this,n=function(e){switch(e){case"S":return f.Small;case"M":return f.Medium;case"L":return f.Large;case"H":return f.Huge;default:return-1}}(t);(0,c.z)((function(){if(-1!==n){r.gridSize=n;var t=u[r.gridSize]/(10+10*r.gridSize),a=[];switch(e){case p.GosperGliderGunM:a=b;break;case p.SimkinGliderGunL:a=y;break;case p.PulsarM:a=v;break;case p.EdenGardenL:a=S;break;case p.GliderS:a=G;break;case p.LwssS:a=C;break;case p.HwssS:a=z;break;case p.PentadecathlonS:a=E;break;case p.DieHardL:a=k;break;default:a=[]}r.gridRowSize=t,r.gridItems=(0,c.ZN)(Array(r.totalGridSize).fill(!1).map((function(e,t){return a.includes(t)}))),r.setFirstGenerationGrid()}else r.clearGrid();r.gridPattern=e}))}},{key:"isGridEmpty",get:function(){return 0===this.gridItems.length||!this.gridItems.some((function(e){return e}))}},{key:"totalGridSize",get:function(){return u[this.gridSize]}},{key:"aliveCellsIndexes",get:function(){var e=[];return this.gridItems.forEach((function(t,r){t&&e.push(r)})),e}}])&&N(t.prototype,r),e}(),R=n.createContext(w),I=r("TSYQ"),x=r.n(I);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T={btnClassNames:d().string.isRequired,children:d().string.isRequired};(s=function(e){var t=e.btnClassNames,r=e.children;e=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)r=a[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(e,["btnClassNames","children"]);return n.createElement("button",P({className:t,type:"button"},e),n.createElement("span",{className:"btn__text"},r))}).propTypes=T;var j=s;function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}I={className:d().string,btnType:d().string,disabled:d().bool,children:d().string,onClick:d().func},(T=function(e){var t=e.className,r=e.btnType,a=e.children,i=e.disabled,l=e.onClick,s=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)r=a[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(e,["className","btnType","children","disabled","onClick"]);e=x()("btn",(A(e={},"btn--".concat(r),r),A(e,"".concat(t),t),e));return n.createElement(j,q({btnClassNames:e,disabled:i,onClick:l},s),a)}).propTypes=I,T.defaultProps={className:"",btnType:"",disabled:!1,children:"",onClick:function(){}};var D=T;s={className:d().string.isRequired,labelText:d().string.isRequired,value:d().number.isRequired,max:d().number.isRequired,handleChange:d().func.isRequired},(I=function(e){var t=e.className,r=e.labelText,a=e.value,i=e.max,l=e.handleChange,s=(t=x()("slider",(s={},e="".concat(t),t=t,e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s)),"slider-".concat(r));return n.createElement("label",{className:t,htmlFor:s},r,n.createElement("input",{id:s,type:"range",min:"0",max:i,value:a,className:"slider__item",onChange:function(e){e.preventDefault(),l(parseInt(e.target.value,10))}}))}).propTypes=s;var L=I;T={className:d().string,labelText:d().string,value:d().number,max:d().number,handleChange:d().func};(s=function(e){var t=e.className,r=e.labelText,a=e.value,i=e.max;e=e.handleChange;return n.createElement(L,{className:t,labelText:r,value:a,max:i,handleChange:e})}).propTypes=T,s.defaultProps={className:"",labelText:"",value:0,max:0,handleChange:function(){}};var M=s;I={labelText:d().string.isRequired,value:d().number.isRequired,selectClassName:d().string.isRequired,selectId:d().string.isRequired,options:d().arrayOf(d().shape({label:d().string,value:d().number,size:d().string})).isRequired,handleChange:d().func.isRequired};(T=function(e){var t=e.labelText,r=e.value,a=e.selectClassName,i=e.selectId,l=e.options,s=e.handleChange;return n.createElement("label",{className:a,htmlFor:i},t,n.createElement("select",{id:i,name:i,list:t,value:r,className:"select__item",onChange:function(e){e.preventDefault(),s(parseInt(e.target.value,10))}},l.map((function(e){return n.createElement("option",{key:e.value,value:e.value,label:e.label,"data-size":e.size},e.label)}))))}).propTypes=I;var _=T;s={className:d().string,labelText:d().string,value:d().number,options:d().arrayOf(d().shape({label:d().string,value:d().number,size:d().string})),handleChange:d().func},I={className:"",labelText:"",value:p.None,options:[],handleChange:function(){}},(T=function(e){var t,r=e.className,a=e.labelText,i=e.value,l=e.options,s=e.handleChange,d=(e=x()("select",(d={},e=r,(t="".concat(r))in d?Object.defineProperty(d,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):d[t]=e,d)),"select-".concat(a));return n.createElement(_,{className:r,labelText:a,value:i,selectClassName:e,selectId:d,options:l,handleChange:s})}).propTypes=s,T.defaultProps=I;var F=T,K=(I={generationCount:d().number.isRequired,gridSize:d().number.isRequired,gridSpeed:d().number.isRequired,gridPattern:d().number.isRequired,handleResetOrClear:d().func.isRequired,handleStartOrStop:d().func.isRequired,handleNext:d().func.isRequired,handleSpeedChange:d().func.isRequired,handleGridSizeChange:d().func.isRequired,handlePatternChange:d().func.isRequired,isGridEmpty:d().bool,isStarted:d().bool},n.createElement("h1",{className:"dashboard-title"},"Conway's Game of Life"));(T=function(e){var t=e.generationCount,r=e.gridSize,a=e.gridSpeed,i=e.gridPattern,l=e.handleResetOrClear,s=e.handleStartOrStop,d=e.handleNext,o=e.handleSpeedChange,c=e.handleGridSizeChange,u=e.handlePatternChange,m=e.isGridEmpty,g=e.isStarted;e=0!==t||m?"Reset":"Clear";return n.createElement(n.Fragment,null,K,n.createElement("form",{className:"dashboard-dash",noValidate:!0},n.createElement(D,{btnType:"primary",onClick:l,disabled:m},e),n.createElement(D,{btnType:"primary",onClick:s,disabled:m},g?"Stop":"Start"),n.createElement(D,{btnType:"secondary",onClick:d,disabled:m},"Next"),n.createElement(M,{className:"dashboard-dash__item",labelText:"Speed: ".concat(Object.keys(h)[a]),value:a,max:Object.keys(h).length-1,handleChange:o}),n.createElement(M,{className:"dashboard-dash__item",labelText:"Grid size: ".concat(Object.keys(f)[r]),value:r,max:Object.keys(f).length-1,handleChange:c}),n.createElement(F,{className:"dashboard-dash__item",labelText:"Pattern",value:i,options:Object.keys(p).map((function(e){return{value:p[e],label:e.replace(/([a-z])([A-Z])/g,"$1 $2"),size:e.slice(e.length-1)}})),handleChange:u})),n.createElement("div",{className:"dashboard-title dashboard-title--right"},n.createElement("h2",null,"Generation: ".concat(t))))}).propTypes=I,T.defaultProps={isGridEmpty:!1,isStarted:!1};var H=T;function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}I=(0,o.Pi)((function(){var e=(0,n.useRef)(0),t=(0,n.useRef)(0),r=(f=Z((0,n.useState)(!1),2))[0],a=f[1],i=(h=Z((0,n.useState)(0),2))[0],l=h[1],s=(0,n.useContext)(R),d=(0,n.useCallback)((function(){a((function(e){return!e}))}),[]),o=(0,n.useCallback)((function(){s.isGridEmpty||l((function(e){return e+1}))}),[s]),c=(0,n.useCallback)((function(){l((function(e){return 0<e?(s.resetGrid(),0):(s.clearGrid(),e)}))}),[s]),u=(0,n.useCallback)((function(e){s.setGridSpeed(e)}),[s]),f=(0,n.useCallback)((function(e){s.setGridSize(e)}),[s]),h=(0,n.useCallback)((function(e){l((function(){var t=(t=Object.keys(p)[e]).slice(t.length-1);return s.setPatternGrid(e,t),0}))}),[s]);return(0,n.useEffect)((function(){0<i&&(1===i&&s.setFirstGenerationGrid(),s.updateGrid())}),[s,i]),(0,n.useEffect)((function(){s.isGridEmpty&&0<i&&(a(!1),l(0))}),[s,i]),(0,n.useEffect)((function(){var n=m[s.gridSpeed];return r&&!s.isGridEmpty?(t.current=n,e.current=setInterval((function(){o()}),n)):!r&&0<e.current&&clearInterval(e.current),function(){return clearInterval(e.current)}}),[s,s.gridSpeed,r,o]),(0,n.useEffect)((function(){return document.addEventListener("keypress",(function(e){switch(e.code){case g.Space:e.preventDefault(),d();break;case g.KeyR:case g.KeyC:e.preventDefault(),c();break;case g.KeyD:e.preventDefault(),o()}})),function(){return document.removeEventListener("keypress",(function(){}))}}),[d,c,o]),n.createElement(H,{gridSize:s.gridSize,gridSpeed:s.gridSpeed,gridPattern:s.gridPattern,isGridEmpty:s.isGridEmpty,generationCount:i,isStarted:r,handleResetOrClear:c,handleStartOrStop:d,handleNext:o,handleSpeedChange:u,handleGridSizeChange:f,handlePatternChange:h})})),T={children:d().node.isRequired};var $=n.createElement("header",{className:"page-container-header dashboard"},n.createElement(I,null));(I=function(e){return e=e.children,n.createElement("div",{className:"page-container"},$,n.createElement("article",{className:"page-container-body"},e))}).propTypes=T;var V=I;T={children:d().node.isRequired};function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(I=function(e){return e=e.children,n.createElement(V,null,e)}).propTypes=T,T=I,I={gridItems:d().arrayOf(d().bool).isRequired,gridSize:d().number.isRequired,handleUpdateGridItem:d().func.isRequired,gridRowSize:d().number},(d=function(e){var t=e.gridItems,r=e.gridSize,a=e.gridRowSize,i=e.handleUpdateGridItem;return n.createElement("form",{className:"game",name:"game",noValidate:!0},function(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(a).keys()).map((function(e){var l=e*a,s=l,d=l+a;e=x()("game-row",{"game-row--medium":r===f.Medium,"game-row--large":r===f.Large,"game-row--huge":r===f.Huge});return n.createElement("div",{className:e,key:Math.random()},t.slice(s,d).map((function(e,t){var r=x()("game-row__cell",{"game-row__cell--alive":e}),a=l+t;return n.createElement("span",{role:"checkbox",className:r,key:"".concat(Math.random(),"-").concat(e),onClick:function(){return i(a)},onKeyPress:function(){return i(a)},tabIndex:a,"aria-checked":e})})))})))}).propTypes=I,d.defaultProps={gridRowSize:0};var W=d,X=(o=(0,o.Pi)((function(){var e=n.useContext(R),t=e.gridItems,r=e.gridRowSize,a=e.gridSize,i=e.updateGridItem.bind(e);return n.createElement(W,{gridItems:t,gridRowSize:r,gridSize:a,handleUpdateGridItem:function(e){i(e)}})})),n.createElement(l.l_,{to:"/"}));l=n.createElement(i.VK,null,n.createElement(T,null,n.createElement(l.rs,null,n.createElement(l.AW,{path:"/",component:o}),n.createElement(l.AW,{render:function(){return X}}))));r.e(659).then(r.bind(r,"/DHd")),a.render(n.createElement(n.StrictMode,null,n.createElement(R.Provider,{value:new w},l)),document.getElementById("app"))}},0,[["201c",700,911,507,105,617,481,162,707],["MXM6",700,911,507,105,617,481,162,707]]]);